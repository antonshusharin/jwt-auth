# Описание

Простой web-сервис для выдачи и обновления JWT-токенов.

# Требования

Для сборки требуется тулчейн Go версии 1.23. Для хранения данных используется PostgreSQL (в разработке использовалась версия 17).

# Конфигурация

Конфигурация производится с помощью переменных среды, которые также можно задать в файле .env.

- JWT_DB_HOST: Хост базы данных, по умолчанию localhost
- JWT_DB_PORT: порт базы данных, по умолчанию 5432
- JWT_DB_USER: имя пользователя базы данных, обязательная
- JWT_DB_PASSWORD: пароль базы данных, по умолчанию пустое значение
- JWT_DB_DATABASE: Название базы данных, по умолчанию совпадает с именем пользователя
- JWT_SIGNING_KEY: Ключ, закодированный в base64, которым будут подписываться токены. Обязательная

## Конфигурация SMTP-сервера

Если какая-либо из этих переменных не будет задана, сервис не сможет отправлять электронные письма.

- JWT_SMTP_ADDR: адрес в формате host:port
- JWT_SMTP_USER: Имя пользователя
- JWT_SMTP_PASSWORD, Пароль
- JWT_SMTP_SERVICE_EMAIL: Адрес, с которого будут отправляться сообщения

# API

Все параметры передаются в виде JSON в теле запроса.
Сервис предоставляет два эндпоинта:

## Получение пары токенов

`POST /get-token`

### Параметры

- guid: guid пользователя, которому будут выданы токены

### Ответ

- access: Токен доступа
- refresh: Токен обновления

## Обновление токена

В теле запроса должна находиться пара токенов, выданная `get-token`. В случае успеха, в ответе будет новая пара.